{% extends 'feed/base.html' %} {% load crispy_forms_tags %} {% load static %}
{% block content %}
{% include 'feed/navbar.html' %}
{% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} alert-dismissible show fade" role="alert"> {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
{% endif %}
<div class="container">
    <div class="row mt-3 mx-3">
        <div class="card shadow-sm col-md-4 col-sm-6 px-3 pt-3 pb-3">
            <div class="media">
                <div class="d-flex">
                    <img class="rounded-circle account-img" src="{{ u.profile.profile_pic.url }}" width="100" height="100" alt=""/>
                    <h3 class="mt-5 ms-3 text-break">{{ u.username }}</h3>
                    <p class="text-end" style="position:absolute;bottom:5px;right:5px;margin:0;padding:5px 3px;" >  {{ u.profile.friends.count }} Friends</p>
                </div>
            </div>
    </div>
    <ul class="nav nav-pills mt-1 mx-3" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home"
                    type="button" role="tab" aria-controls="pills-home" aria-selected="true">Posts</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile"
                type="button" role="tab" aria-controls="pills-profile" aria-selected="false">About</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact"
                type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Friends</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-disabled-tab" data-bs-toggle="pill" data-bs-target="#pills-disabled"
                type="button" role="tab" aria-controls="pills-disabled" aria-selected="false">Photos</button>
      </li>
    </ul>
    <div class="tab-content mx-4" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" tabindex="0">...</div>
        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">
              <div class="list-group mt-2" style="max-width: 400px">
                {% if u.profile.name %}
                    <p class="list-group-item"> Name: {{ u.profile.name }}</p>
                {% endif %}
                {% if u.profile.birthdate %}
                    <p class="list-group-item"> Birthday: {{ u.profile.birthdate }}</p>
                {% endif %}
                {% if u.profile.location %}
                    <p class="list-group-item"> Location: {{ u.profile.location }} </p>
                {% endif %}
                {% if u.profile.bio %}
                    <div class="card">
                        <label class="text fw-bold mx-3">Bio</label>
                        <p class="card-body">{{ u.profile.bio }}</p>
                    </div>
                {% endif %}
            </div>
        </div>
      <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab" tabindex="0">
          <div class="mt-2" style="max-inline-size: fit-content">
                <div class="shadow-sm" style="background-color: white">
                {% if friends_list %}
                  <div class="my-3 ps-2 pe-2">
                      {% for user_p in friends_list %}
                      <a href="{{ user_p.get_absolute_url }}"
                        ><img
                          src="{{ user_p.profile_pic.url }}"
                          class="rounded mr-2"
                          width="40"
                          height="40"
                          alt=""
                      /></a>
                      <a class="text-dark fw-bold" href="{{ user_p.get_absolute_url }}" style="text-decoration: none"> {{ user_p }} </a>
                    {% endfor %}
                {% endif %}
                </div>
            </div>
      </div>
  </div>
        <div class="tab-pane fade" id="pills-disabled" role="tabpanel" aria-labelledby="pills-disabled-tab" tabindex="0">:)</div>
        </div>
    </div>
</div>
{% endblock content %}
